---
layout: blog
title: Blog
lang: eng
description: Blog
paginate: 5
---

<section class="blog" id="blog-container">
    {% assign posts = paginator.posts %}
    
    {%- if posts.size > 0 -%}
    {%- if page.list_title -%}
    <h2> {{ page.list_title }}</h2>
    {%- endif -%}
    <div class="blog_border" id="blog-posts">
        {%- assign date_format = site.minima.date_format | default: "%b %-d, %Y" -%}
        {%- for post in posts -%}
        <div class='blog_border'>
            <span class="post-meta"><i class="fa fa-calendar"></i> {{ post.date | date: date_format }}</span>
            <h3 class="post__title">
                <a class="post-link" href="{{ post.url | relative_url }}">
                    {{ post.title | escape }}
                </a>
            </h3>
            <!-- Ad slot for each post -->
            <div class="ad-container">
                <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8370893026371321"
                        crossorigin="anonymous"></script>
                <ins class="adsbygoogle"
                     style="display:block"
                     data-ad-client="ca-pub-8370893026371321"
                     data-ad-slot="1860706536"
                     data-ad-format="auto"
                     data-full-width-responsive="true"></ins>
                <script>
                    (adsbygoogle = window.adsbygoogle || []).push({});
                </script>
            </div>
            <p class="article__excerpt">
                {% if post.description %}{{ post.description }}{% else %}{{ post.content | strip_html | truncate: 185 }}{% endif %}
            </p>
        </div>
        {%- endfor -%}
    </div>

    {% if paginator.next_page %}
    <div class="load-more" id="load-more">
        <a href="#" onclick="loadMorePosts(); return false;">Load More</a>
    </div>
    {% endif %}

    {%- endif -%}
</section>

<script>
    var page = {{ paginator.page | plus: 1 }};
    var totalPages = {{ paginator.total_pages }};
    
    function loadMorePosts() {
        if (page <= totalPages) {
            var xhr = new XMLHttpRequest();
            xhr.onreadystatechange = function () {
                if (xhr.readyState === XMLHttpRequest.DONE) {
                    var parser = new DOMParser();
                    var doc = parser.parseFromString(xhr.responseText, 'text/html');
                    var newPosts = doc.getElementById('blog-posts').innerHTML;
                    document.getElementById('blog-posts').innerHTML += newPosts;
                    page++;
                    if (page > totalPages) {
                        document.getElementById('load-more').style.display = 'none';
                    }
                }
            };
            xhr.open('GET', '/page/' + page);
            xhr.send();
        }
    }
</script>
